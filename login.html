<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Bloging website</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="./user.css">
</head>
<body>

    

    <div class="auth-container">
        <div class="auth-image" style="background-image: url('./images/a11.jpg');"></div>
        <div class="auth-form-container">
            <div class="auth-header">
                <h1>Welcome Back</h1>
                <p>Please login to your account</p>
            </div>
            <div id="message" class="message"></div>
            <form id="loginForm" class="auth-form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="password-toggle">
                        <input type="password" id="password" required>
                        <i class="toggle-password fas fa-eye"></i>
                    </div>
                </div>
                <button type="submit" class="auth-btn">Login</button>
            </form>
            <div class="forgot-password-container" style="text-align:center; margin-top:18px;">
                <a href="#" id="forgotPasswordLink" style="color:#007bff; text-decoration:underline; cursor:pointer;">Forgot Password?</a>
            </div>
            <div class="auth-links">
                <p>Don't have an account? <a href="signup.html">Sign Up</a></p>
            </div>
        </div>
    </div>
    <div id="forgotPasswordModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.35); z-index:9999; align-items:center; justify-content:center;">
        <div style="background:#fff; padding:32px 24px; border-radius:10px; max-width:340px; margin:auto; box-shadow:0 4px 24px rgba(0,0,0,0.13); position:relative;">
            <h3 style="margin-top:0;">Reset Password</h3>
            <input type="email" id="resetEmail" placeholder="Enter your registered email" style="width:100%;padding:10px 8px;margin:12px 0 18px 0;border-radius:5px;border:1px solid #ccc;">
            <div id="resetMsg" style="color:#dc3545; font-size:0.98rem; min-height:22px;"></div>
            <button id="resetPasswordBtn" style="background:#007bff;color:#fff;padding:8px 18px;border:none;border-radius:5px;cursor:pointer;">Send Reset Link</button>
            <button id="closeResetModal" style="background:#6c757d;color:#fff;padding:8px 18px;border:none;border-radius:5px;cursor:pointer; margin-left:10px;">Cancel</button>
        </div>
    </div>
    <script src="./login.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const forgotLink = document.getElementById('forgotPasswordLink');
        const modal = document.getElementById('forgotPasswordModal');
        const closeBtn = document.getElementById('closeResetModal');
        const resetBtn = document.getElementById('resetPasswordBtn');
        const resetEmail = document.getElementById('resetEmail');
        const resetMsg = document.getElementById('resetMsg');

        if(forgotLink) {
            forgotLink.onclick = function(e) {
                e.preventDefault();
                modal.style.display = 'flex';
                resetEmail.value = '';
                resetMsg.textContent = '';
            };
        }
        if(closeBtn) {
            closeBtn.onclick = function() {
                modal.style.display = 'none';
            };
        }
        if(resetBtn) {
            resetBtn.onclick = function() {
                const email = resetEmail.value.trim();
                if(!email) {
                    resetMsg.textContent = "Please enter your email.";
                    return;
                }
                let users = JSON.parse(localStorage.getItem('users')) || [];
                const user = users.find(u => u.email === email);
                if(!user) {
                    resetMsg.textContent = "No account found with this email.";
                    return;
                }
                // For demo: show a message instead of sending email
                resetMsg.style.color = "#28a745";
                resetMsg.textContent = "A password reset link has been sent to your email (demo).";
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 2000);
            };
        }
        // Optional: close modal on outside click
        window.onclick = function(event) {
            if(event.target === modal) {
                modal.style.display = 'none';
            }
        };
    });
    </script>
</body>
</html>